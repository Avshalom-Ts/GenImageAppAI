# Dockerfile for the server side as express app
FROM node
WORKDIR /app
COPY package.json /app
RUN npm install
COPY . /app

ARG MONGODB_URL
ENV MONGODB_URL=${MONGODB_URL}

ARG OPENAI_API_KEY
ENV OPENAI_API_KEY=${OPENAI_API_KEY}


ARG CLOUDINARY_CLOUD_NAME
ENV CLOUDINARY_CLOUD_NAME=${CLOUDINARY_CLOUD_NAME}

ARG CLOUDINARY_API_KEY
ENV CLOUDINARY_API_KEY=${CLOUDINARY_API_KEY}

ARG CLOUDINARY_API_SECRET
ENV CLOUDINARY_API_SECRET=${CLOUDINARY_API_SECRET}

EXPOSE 8080

CMD ["node","index.js"]